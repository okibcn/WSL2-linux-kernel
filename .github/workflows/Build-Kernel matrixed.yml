name: WF test

on:
  workflow_dispatch:


env:
  cancel: false

jobs:
  Check-configurations:
    runs-on: ubuntu-latest
    defaults:
      run:
        shell: bash
    steps:
    - name: "‚úîÔ∏è Pre-build checks"
      run: |
        echo "CANCEL=true" >>  $GITHUB_ENV


    - name: "‚è¨ Checkout repository"
      if:  env.CANCEL != 'true'
      uses: actions/checkout@v3



    - name: "üîß Prepare debug session"
      run: |
        ## install zsh
        sudo apt install zsh zsh-syntax-highlighting

        ## oh-my-posh
        sudo wget https://github.com/JanDeDobbeleer/oh-my-posh/releases/latest/download/posh-linux-amd64 -O /usr/local/bin/oh-my-posh
        sudo chmod +x /usr/local/bin/oh-my-posh

        ## setting rc files
        echo "eval \"\$(oh-my-posh init \$(oh-my-posh get shell))\"" >> ~/.bashrc
        echo "eval \"\$(oh-my-posh init \$(oh-my-posh get shell))\"" >> ~/.zshrc

        ## Default profiles
        # cp .nanorc.linux ~/.nanorc
        # cp /etc/bash.bashrc ~
        # cat Github_Linux/profile.sh >> ~/bash.bashrc
        # sudo cp ~/bash.bashrc /etc/bash.bashrc -f
        # cp Github_Linux/profile.sh ~/.zshrc


    - name: "üêû Debug session"
      uses: mxschmitt/action-tmate@v3
      env:
        GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        ## More info at https://til.simonwillison.net/github-actions/debug-tmate
        ##           or https://github.com/mxschmitt/action-tmate


